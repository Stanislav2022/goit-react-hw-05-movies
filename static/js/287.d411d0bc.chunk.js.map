{"version":3,"file":"static/js/287.d411d0bc.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetails.module.css?a206","pages/MovieDetailsPage/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import React from 'react'\nimport { Audio } from 'react-loader-spinner';\nimport css from \"./Loader.module.css\"\n\nexport default function Loader() {\n  return (\n    <div className={css.loader}>\n      <Audio\n        height=\"80\"\n        width=\"80\"\n        radius=\"9\"\n        color=\"green\"\n        ariaLabel=\"loading\"\n        wrapperStyle\n        wrapperClass />\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetails_section__KD3u2\",\"section__border\":\"MovieDetails_section__border__0Z3Al\",\"films__img\":\"MovieDetails_films__img__Pbqab\"};","import React, { useState , useEffect} from 'react'\nimport Loader from 'components/Loader/Loader';\nimport {useParams, useNavigate, NavLink, Outlet } from 'react-router-dom';\nimport { getMovieDetails } from 'services/api';\nimport style from \"./MovieDetails.module.css\";\n\nexport default function MovieDetails() {\n    const [state, setState] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const { id } = useParams();\n    const navigate = useNavigate();\n\n    \n    useEffect(() => {\n        const fetchMovie = async () => {\n            try {\n                setLoading(true);\n                setError(null);\n                const result = await getMovieDetails(id);\n                setState(result);\n            } catch (error) {\n              setError(error);\n            } finally {\n              setLoading(false)\n            }\n        }\n        fetchMovie();\n    }, [id])\n\n    const createPosterFilm = (posterLink) => {\n        if (posterLink) {\n            return `https://image.tmdb.org/t/p/w200/${posterLink}`;\n        }\n    };\n\n    const createGenresFilmArray = (genresArray) => {\n        if (genresArray.length !== 0) {\n            let genresFilm = [];\n            genresArray.reduce((acc, item) => \n                genresFilm.push( ` ${item.name}`)\n            , 0);\n            return genresFilm;\n        }\n        return `No genre`;\n    }\n\n    const createYearFilm =(year) => {\n        if (year) {\n            return year;\n        }\n        return `Year: N/A`;\n    }\n    \n    const createRating= (ratind) => {\n        if (ratind) {\n            return (ratind*10).toFixed(0);\n        }\n        return `0`;\n    }\n    \n    const goBack = () => { navigate(\"/\") }; \n\nreturn (\n    <div>\n        <button on onClick={goBack}>Go back</button>\n        {loading && <Loader />}\n        {error && <p>Something didn't go according to plan</p>}\n        {state && (\n            <>\n                <div className={style.section}>\n                    <img className={style.films__img} loading=\"lazy\" src={createPosterFilm(state.poster_path)} alt={state.title} />\n                    <div>\n                        <h1>{state.title} ({createYearFilm(String(state.release_date).slice(0, 4))})</h1>\n                        <p>User Score {createRating(state.vote_average)}%</p>\n                        <h2>Overview</h2>\n                        <p>{state.overview}</p>\n                        <h2>Ganres </h2>\n                        <p>{createGenresFilmArray(state.genres)}</p>\n                    </div>\n                </div>\n                <div className={style.section__border}>\n                    <h3>Additional information</h3>\n                    <ul>\n                        <li><NavLink to={'cast'}>Cast</NavLink></li>\n                        <li><NavLink to={'reviews'}>Reviews</NavLink></li>\n                    </ul>\n                </div>\n                <div >\n                    <Outlet/>\n                </div>\n            </>\n        )}\n    </div>\n  )\n}\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '227276901e21542aa689a1c37fca7e3b',\n  },\n});\n\nexport const getTrending = async () => {\n  const { data } = await instance.get('/trending/movie/week');\n  return data.results;\n};\n\nexport const getSearch = async search => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      query: search,\n      page: 1,\n    },\n  });\n\n  return data.results;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data.cast;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data.results;\n};\n"],"names":["Loader","className","css","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClass","MovieDetails","useState","state","setState","loading","setLoading","error","setError","id","useParams","navigate","useNavigate","useEffect","fetchMovie","getMovieDetails","result","ratind","year","on","onClick","style","src","posterLink","createPosterFilm","poster_path","alt","title","String","release_date","slice","vote_average","toFixed","overview","genresArray","length","genresFilm","reduce","acc","item","push","name","createGenresFilmArray","genres","to","instance","axios","baseURL","params","api_key","getTrending","get","data","results","getSearch","search","query","page","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}