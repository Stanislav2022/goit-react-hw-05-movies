{"version":3,"file":"static/js/511.99712e01.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/MoviesPage/Movies.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import React from 'react'\nimport { Audio } from 'react-loader-spinner';\nimport css from \"./Loader.module.css\"\n\nexport default function Loader() {\n  return (\n    <div className={css.loader}>\n      <Audio\n        height=\"80\"\n        width=\"80\"\n        radius=\"9\"\n        color=\"green\"\n        ariaLabel=\"loading\"\n        wrapperStyle\n        wrapperClass />\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"searchform\":\"Searchbar_searchform__enFhL\",\"button\":\"Searchbar_button__nkcjk\",\"input\":\"Searchbar_input__19umw\"};","import React, { useState } from \"react\"\nimport style from \"./Searchbar.module.css\"\nimport PropTypes from 'prop-types';\n\nexport default function Searchbar({onSubmit}) {\n  const [search, setSearch] = useState(\"\");\n\n  const handleChange = (e) => {\n    const { value } = e.target;\n    setSearch(value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(search);\n  }\n\n  const searchField = {\n    type: \"text\",\n    name: \"search\",\n    placeholder: \"Search film\",\n    required: true,\n    autoComplete:\"off\",\n  }\n\n  return (\n    <header className={style.searchbar}>\n      <form className={style.searchform} onSubmit={handleSubmit}>\n        <input\n          className={style.input}\n          value={search}\n          autoFocus\n          onChange={handleChange}\n          {...searchField} />   \n        <button\n          type=\"submit\"\n          className={style.button}\n          onClick={handleSubmit}>Search\n        </button>\n      </form>\n    </header>\n  )\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n   };","import React from 'react';\nimport { useState, useEffect  } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport { getSearch } from 'services/api';\nimport { Link } from 'react-router-dom';\n\nexport default function Movies() {\n  const [search, setSearch] = useState(\"\");\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!search) { return };\n\n    const movieSearch = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const data = await getSearch(search);\n        setItems((prevItems) => { return [...prevItems, ...data ] })\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false)\n      }\n    };\n    movieSearch();\n  }, [search]);\n\n  const onSearch = (search) => {\n      setSearch(search)\n  }\n\n  const element = items.map(({ id, title }) =>\n    (<li key={id}> <Link to={`/movies/${id}`}>{title}</Link></li>));\n\n  return (\n    <div>\n      <Searchbar onSubmit={onSearch}/>\n      {loading && <Loader />}\n      {(Boolean(items.length) && <ul>{element}</ul>)}\n      {error && <p>Films load fail</p>}\n    </div>\n  )\n}\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '227276901e21542aa689a1c37fca7e3b',\n  },\n});\n\nexport const getTrending = async () => {\n  const { data } = await instance.get('/trending/movie/week');\n  return data.results;\n};\n\nexport const getSearch = async search => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      query: search,\n      page: 1,\n    },\n  });\n\n  return data.results;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data.cast;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data.results;\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["Loader","className","css","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClass","Searchbar","onSubmit","useState","search","setSearch","handleSubmit","e","preventDefault","style","value","autoFocus","onChange","target","type","name","placeholder","required","autoComplete","onClick","Movies","items","setItems","loading","setLoading","error","setError","useEffect","movieSearch","getSearch","data","prevItems","element","map","id","title","to","Boolean","length","instance","axios","baseURL","params","api_key","getTrending","get","results","query","page","getMovieDetails","getMovieCredits","cast","getMovieReviews","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}